# Story 5.1: Frontend UI Implementation (Core Screens - Upload, Results, Checklist)

## Status
Draft

## Story
**As a** Developer,
**I want** To implement core frontend screens (Upload, Results, Checklist) based on the architecture's framework and "ultra-modern" aesthetic,
**So that** Users have a functional interface to upload documents and view analysis results.

## Acceptance Criteria
1. Frontend project setup complete with Next.js, TypeScript, and Tailwind CSS
2. Upload screen implemented with drag-and-drop file upload functionality
3. Results screen implemented to display analysis summary and extracted clauses
4. Checklist screen implemented to display generated checklist items
5. Styling reflects "ultra-modern" theme (Light Mode only)
6. Basic responsiveness for desktop and tablet viewports
7. UI follows architecture standards and design specifications

## Tasks / Subtasks

- [ ] Task 1: Frontend Project Setup (AC: 1)
  - [ ] Verify Next.js project structure in `frontend/`
  - [ ] Verify TypeScript configuration
  - [ ] Verify Tailwind CSS setup
  - [ ] Install additional UI dependencies (shadcn/ui components)
  - [ ] Configure routing structure
  - [ ] Set up environment variables for API base URL
  - [ ] Create global styles and theme configuration

- [ ] Task 2: Create Shared Components (AC: 5, 6)
  - [ ] Create `components/ui/` directory for reusable components
  - [ ] Implement Button component with variants
  - [ ] Implement Card component for content containers
  - [ ] Implement Loading spinner component
  - [ ] Implement Error message component
  - [ ] Implement Navigation/Header component
  - [ ] Implement Layout component with responsive container
  - [ ] Apply ultra-modern styling (clean, minimal, professional)

- [ ] Task 3: Implement Upload Screen (AC: 2, 5)
  - [ ] Create `app/upload/page.tsx` (or update `app/page.tsx`)
  - [ ] Implement file upload UI with drag-and-drop zone
    - [ ] Use HTML5 drag-and-drop API
    - [ ] Show visual feedback on drag over
    - [ ] Display file name and size after selection
  - [ ] Add file type validation (PDF only)
  - [ ] Add file size validation (max 10MB)
  - [ ] Implement upload button with loading state
  - [ ] Show upload progress indicator
  - [ ] Display success message with session_id
  - [ ] Add error handling for upload failures
  - [ ] Style with ultra-modern aesthetic
  - [ ] Make responsive for desktop/tablet

- [ ] Task 4: Implement Results Screen (AC: 3, 5)
  - [ ] Create `app/results/[sessionId]/page.tsx`
  - [ ] Fetch analysis results from API
  - [ ] Display summary memo section
    - [ ] Render markdown content
    - [ ] Style with proper typography
  - [ ] Display extracted clauses section
    - [ ] Show clause type, text, risk score
    - [ ] Use Card components for each clause
    - [ ] Color-code by risk level (high/medium/low)
  - [ ] Display red flags section
    - [ ] Highlight critical issues
    - [ ] Show risk scores and descriptions
  - [ ] Add loading state while fetching results
  - [ ] Add error handling for failed requests
  - [ ] Implement "Back to Upload" navigation
  - [ ] Style with ultra-modern aesthetic
  - [ ] Make responsive for desktop/tablet

- [ ] Task 5: Implement Checklist Screen (AC: 4, 5)
  - [ ] Create `app/checklist/[sessionId]/page.tsx`
  - [ ] Fetch checklist data from API
  - [ ] Display checklist items as interactive list
    - [ ] Show item text
    - [ ] Add checkbox for user tracking (client-side only for MVP)
    - [ ] Link related red flags if applicable
  - [ ] Add "Export Checklist" button (download as text/markdown)
  - [ ] Add loading state while fetching checklist
  - [ ] Add error handling for failed requests
  - [ ] Implement navigation to Results screen
  - [ ] Style with ultra-modern aesthetic
  - [ ] Make responsive for desktop/tablet

- [ ] Task 6: Implement Navigation and Routing (AC: 6, 7)
  - [ ] Create navigation menu/header
    - [ ] Link to Upload screen
    - [ ] Link to Results (if session exists)
    - [ ] Link to Checklist (if session exists)
  - [ ] Implement route guards (redirect if no session)
  - [ ] Add breadcrumb navigation
  - [ ] Ensure smooth transitions between screens
  - [ ] Test all navigation paths

- [ ] Task 7: Apply Ultra-Modern Styling (AC: 5)
  - [ ] Define color palette (professional blues/grays)
  - [ ] Set typography scale (clean, readable fonts)
  - [ ] Add subtle shadows and borders
  - [ ] Implement consistent spacing system
  - [ ] Add smooth transitions and hover effects
  - [ ] Ensure high contrast for accessibility
  - [ ] Polish all UI elements for professional look

- [ ] Task 8: Implement Responsive Design (AC: 6)
  - [ ] Test on desktop viewport (1920x1080)
  - [ ] Test on laptop viewport (1366x768)
  - [ ] Test on tablet viewport (768x1024)
  - [ ] Adjust layouts for different screen sizes
  - [ ] Ensure touch-friendly targets on tablet
  - [ ] Test navigation on different viewports

- [ ] Task 9: Create TypeScript Interfaces (AC: 1, 7)
  - [ ] Create `types/api.ts` for API response types
  - [ ] Define AnalysisReport interface
  - [ ] Define ExtractedClause interface
  - [ ] Define RedFlag interface
  - [ ] Define ChecklistItem interface
  - [ ] Define UploadResponse interface
  - [ ] Ensure type safety across components

- [ ] Task 10: Manual Testing (AC: 1-7)
  - [ ] Test upload flow with valid PDF
  - [ ] Test upload with invalid file type
  - [ ] Test upload with oversized file
  - [ ] Test results display with mock data
  - [ ] Test checklist display with mock data
  - [ ] Test navigation between screens
  - [ ] Test responsive behavior
  - [ ] Test error states
  - [ ] Verify ultra-modern styling
  - [ ] Test in Chrome, Firefox, Safari

## Dev Notes

### Architecture Context

**Frontend Framework:**
[Source: architecture/3-tech-stack.md]
- Next.js 14+ (App Router)
- TypeScript
- Tailwind CSS
- shadcn/ui components

**Design Aesthetic:**
[Source: docs/front-end-spec.md]
- Ultra-modern, clean, professional
- Light mode only for MVP
- Minimalist design with focus on content
- Professional color palette (blues, grays, whites)
- Clear typography hierarchy
- Subtle animations and transitions

### Screen Specifications

**From docs/front-end-spec.md:**

**1. Upload Screen:**
- Large drag-and-drop zone (centered)
- File type indicator (PDF only)
- File size limit display (max 10MB)
- Upload button (disabled until file selected)
- Progress indicator during upload
- Success message with "View Results" button

**2. Results Screen:**
- Header with document name and analysis date
- Summary section (markdown rendering)
- Extracted clauses section (cards with risk color-coding)
- Red flags section (highlighted warnings)
- Navigation to Checklist
- "Analyze Another Document" button

**3. Checklist Screen:**
- List of checklist items
- Interactive checkboxes (client-side state)
- Related red flag links
- Export button
- Navigation back to Results

### Component Structure

```
frontend/
├── app/
│   ├── page.tsx (Upload screen)
│   ├── results/
│   │   └── [sessionId]/
│   │       └── page.tsx
│   ├── checklist/
│   │   └── [sessionId]/
│   │       └── page.tsx
│   └── layout.tsx
├── components/
│   ├── ui/ (shadcn/ui components)
│   │   ├── button.tsx
│   │   ├── card.tsx
│   │   ├── loading.tsx
│   │   └── error.tsx
│   ├── upload/
│   │   ├── FileDropzone.tsx
│   │   └── UploadProgress.tsx
│   ├── results/
│   │   ├── SummarySection.tsx
│   │   ├── ClauseCard.tsx
│   │   └── RedFlagAlert.tsx
│   ├── checklist/
│   │   └── ChecklistItem.tsx
│   └── layout/
│       ├── Header.tsx
│       └── Navigation.tsx
├── lib/
│   ├── api.ts (API client functions)
│   └── utils.ts
└── types/
    └── api.ts (TypeScript interfaces)
```

### UI Reference Templates

**IMPORTANT - Review Before Implementation:**
Frontend UI guide templates are available in: `frontend/frontend-ui-guide/`

These HTML templates provide visual reference for the ultra-modern aesthetic and component layouts. Use them as a guide for styling and structure, but implement using Next.js/React/TypeScript/Tailwind as specified in the architecture.

### API Integration

For this story, use mock data or placeholder API calls. Full backend integration happens in Story 5.3.

### TypeScript Type Definitions

Define TypeScript interfaces in `types/api.ts` based on the API models specified in architecture/4-data-models.md:
- UploadResponse
- AnalysisReport
- ExtractedClause
- RedFlag
- ChecklistItem

### Styling Requirements

**Color Palette:**
- Professional blues and grays
- Risk level color-coding (high=red, medium=amber, low=green)
- High contrast for accessibility

**Typography:**
- Clean, readable font family (Inter or similar)
- Clear hierarchy with appropriate sizing

**Spacing:**
- Consistent spacing using Tailwind's scale
- Adequate whitespace for readability

### Responsive Design

**Target Viewports:**
- Desktop: 1920x1080, 1366x768
- Tablet: 768x1024
- Mobile: Deferred for MVP

**Layout Strategy:**
- Mobile-first approach
- Responsive breakpoints using Tailwind defaults
- Touch-friendly targets on tablet

## Testing

**Manual Testing Checklist:**
- [ ] Upload screen loads correctly
- [ ] Drag-and-drop works
- [ ] File validation works (type and size)
- [ ] Upload button states work correctly
- [ ] Results screen displays all sections
- [ ] Clauses are color-coded by risk
- [ ] Checklist items are interactive
- [ ] Navigation works between screens
- [ ] Responsive design works on different viewports
- [ ] Styling matches ultra-modern aesthetic
- [ ] Error states display correctly
- [ ] Loading states display correctly

**Browser Testing:**
- Chrome (latest)
- Firefox (latest)
- Safari (latest)

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-21 | 1.0 | Initial story creation for Epic 5 | Scrum Master (Bob) |

## Dev Agent Record
_To be filled by Dev Agent during implementation_

### Agent Model Used
_To be filled by Dev Agent_

### Debug Log References
_To be filled by Dev Agent_

### Completion Notes List
_To be filled by Dev Agent_

### File List
_To be filled by Dev Agent_

## QA Results
_To be filled by QA Agent_
